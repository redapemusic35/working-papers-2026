<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Unjust Religion as Fiction</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-0a95de2c3be981c2e03029825b16c585.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-a66a6da16ab77534699acfc467ca6030.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="quarto-light">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    <div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="peppers-gates-epi-rel.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Unjust Religion as Fiction</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Susan Pepper-Gates writes a very engaging and important paper criticizing article applying Miranda <span class="citation" data-cites="fric07">Fricker (<a href="#ref-fric07" role="doc-biblioref">2007</a>)</span>’s analysis of epistemic injustice to contemporary Western Religion WR, and the Philosophy of Religion, PoWR. She argues that the philosophy of religion should cultivate epistemic-ethical virtues in order to recognize and include philosopers from minority voices. Doing so helps WR and PoWR understand and recognize the ways that power shapes our lives as embodied social beings.</p>
<p>I think that the initial conclusion is a strong one. Namely the ways that power shapes our lives as embodied social beings. However, I think that the most important conclusion here is a premise conclusion statement, rather than just a conclusion. Rather than WR and PoWR cultivating epistemic virtues, WR and PoWR should focus on the cultivation of epistemic virtues. This will give the project of WR and PoWR two convergent aims.</p>
<ol type="1">
<li>First, it would be to draw attention to the ways in which power <strong><em>can</em></strong> shape our lives as embodied social beings.</li>
<li>Cultivating virtue in this context then, means that WR and PoWR ought be formative, cultivating virtue in their audiences.</li>
<li>This virtue in turn makes it less likely that power will shape the lives of members of WR and PoWR’s audiences.</li>
</ol>
<p>Finally, though I will not have space to argue this here, I would add that versions of WR and PoWR has already historically done this.</p>
<section id="some-questions" class="level2">
<h2 class="anchored" data-anchor-id="some-questions">Some Questions</h2>
<p>I have some initial questions which I will articulate first here:</p>
<p>What harms are suffered by which groups? This point is probably more appropriate to ask of the broad literature and I am not sure that it has not been raised yet. However, if it has, then it seems that it would be an important point to include here. Following are a couple of reasons why I think this is true.</p>
<ol type="1">
<li>As I can tell, it is hard to understand why a racial or gendered minority may believe that a white samesex male couple ought to be considered marginalized in any context.</li>
<li>E.g., we might think that a white heterosexual couple should be considered more marginzalized than the white male samesex couple.
<ol type="1">
<li>White men have more social mobility than white women.</li>
<li>Therefore, two white men have more social mobility than one white man and one white woman while one white man and one white woman have more social mobility than two white women.</li>
</ol></li>
<li>On the other hand, we might have reason to suspect that a white female samesex couple is considered more marginalized than the white heterosexual couple.</li>
</ol>
<p>The second question is one of difference in kinds of harm. Is the kind of harm faced by racial, or ethnic minorities different from the kind faced by sexual preference? What about the kinds of harms faced by immigrant groups verses those faced by native born populations?</p>
</section>
<section id="peppers-gates-analysis-of-fricker" class="level2">
<h2 class="anchored" data-anchor-id="peppers-gates-analysis-of-fricker">Peppers-Gates Analysis of Fricker</h2>
<ol type="1">
<li>Western Religion, WR, and The Philosophy of Western Religion, PoWR, ignore work by intersectional feminist philosophers and philosophers of race who challenge the traditional approach,
<ol type="1">
<li>Traditional epistmology, TE, focuses on abstract universal knowledge.</li>
<li>Philosophy of religion grounds itself in TE and focuses on rational belief</li>
</ol></li>
</ol>
<p>The philosophy of religion should cultivate epistemic-ethical virtues in order to recognize and include philosopers from minority voices.</p>
<p>Some initial confusions:</p>
<ol type="1">
<li><p>What harms are suffered by which groups?</p>
<ol type="1">
<li>A white samesex male couple may not be considered marginalized in any context. E.g., white heterosexual couple should be considered more marginzalized than the white male samesex couple while the white female samesex couple is considered more marginalized than the white heterosexual couple.</li>
<li>White men have more social mobility than white women. Two white men have more social mobility than one white man. Therefore, two white men have more social mobility than one white man and one white woman while one white man and one white woman have more social mobility than two white women.</li>
</ol></li>
<li><p>The kind of harm faced by racial, or ethnic minorities is different from the kind faced by sexual preference.</p></li>
<li><p>WR and PoWR ignore work by intersectional feminist philosophers and philosophers of race who challenge the traditional approach,</p>
<ol type="1">
<li>Traditional epistmology focuses on abstract universal knowledge.</li>
<li>Philosophy of religion grounds itself in traditional epistemology and focuses on rational belief</li>
</ol></li>
<li><p>Therefore WR and PoWR embrace narrow methodologies that exclude others and contributes to the marginalization of minority voices.</p></li>
<li><p>Therefore WR and PoWR conflate the truth about the existence and attributes of a [pateriachal] God with traditional epistemic approaches grounded in [narrow methological approaches to knowledge].</p></li>
<li><p>By focusing on narrow methologies and abstract conceptions of knowledge, WR and PoWR fail to consider ways that power shapes our lives as embodied social beings.</p></li>
</ol>
<p>WR and PoWR have silenced marginalized groups. These inclde women, people of color, disabled persons and LGBTQI community members [if these voices are marginalized, how can they be considered community members?].</p>
<p>This is because traditional epistemology, TE, focues on abstract conceptions of knowledge and thereby fails to consider the ways that power shapes our lives as embodied social beings [Using the grammar contrast, we assume that a person can learn grammar and we exclude them from the larger conversation until they do. Do we not think that a person can learn how to operate within the rules invoked under ‘abstract conceptions of knowledge’?].</p>
<p>TE focues on abstract conceptions of knowledge and thereby fails to consider the ways that power shapes our lives as embodied social beings [Using the grammar contrast, we assume that a person can learn grammar and we exclude them from the larger conversation until they do. Do we not think that a person can learn how to operate within the rules invoked under ‘abstract conceptions of knowledge’?].</p>
<ol type="1">
<li>WR and PoWR ahve silenced marginal groups [calling groups marginal seems to marginalize them].
<ol type="1">
<li>TE focuses on abstract conceptions of knowledge and therefore fails to consider ways power shapes our lives as social beings.</li>
<li>PoR grounds itself in TE by focusing on ‘rational’ belief in its debates about God’s existence and attributes.</li>
<li>Therefore PoR ignores feminist philosophers and philosophers of race who challenge PoR grounds in TE (fp and por then reject ‘rational’ belief?).</li>
</ol></li>
<li>PoR’s embrace of its narrow methology and range of topics then is based in an exclusion of ‘others’ from meaning making in institutional philosophy.</li>
</ol>
<p>My contribution: The Philosophy of religion focuses on rational belief and conflates this in its debates about existence and attributes of a pateriachal God.</p>
</section>
<section id="silencing" class="level2">
<h2 class="anchored" data-anchor-id="silencing">Silencing</h2>
<p>Western religion and philosophy of religion have silenced marginalizxed groups by focusing on abstract conceptions of knowledge which fails to consider ways that power shapes our lives as emboidied social beings.</p>
<ol type="1">
<li>Traditional epistemology focuses on abstract conceptions of knowledge.</li>
<li>These are inadequate because they do not analyze the ways power shapes our lives as “embodied social beings”.
<ol type="1">
<li>We are born in webs of meaning and social relations of [power and prvilege (are journal review practices an exercise of power and privilege?)].</li>
<li>Some voices are heard [pass review], meaning that they shape the social imagination (define social imagination) and others are ignored [do not pass review and therefore . . .]. They are incapable of shaping the social imagination.
<ol type="1">
<li>However, how is this done? One way is through the enforcement of so-called grammar rules. Taking an art class, the attempted to communicate the rules which apply to a given art genre. However, the students noted the many deviations from these rules. The teacher replied by saying that “once you know how to apply the rules, then you are allowed to break the rules”.</li>
<li>An imagined analogy would be a reviewer rejecting a paper for the alleged abuse of grammar rules, syntax, and not content, truth value, where the so-called rules are applied as a means of gatekeeping who gets to shape the ‘social-imagination’. A student who fails to learn the rules, is not accepted into the art community, there work is posted in galleries, sold at auctions, is not publically (positive or negative) reviewed.</li>
</ol></li>
<li>This excludes people from shared social understanding, contributing to the harm of that individual, can be used as a weapon that harms.
<ol type="1">
<li>What is this weapon and how specifically does it harm?</li>
<li>Participation in shared conceptual structure is a marker of humanity.</li>
<li>Therefore gatekeepers undermine the process by which a person becomes human.
<ol type="1">
<li>Better, is to say they undermine the process by which a person is considered human.</li>
</ol></li>
</ol></li>
</ol></li>
</ol>
</section>
<section id="hermeneutic-injustice" class="level2">
<h2 class="anchored" data-anchor-id="hermeneutic-injustice">Hermeneutic Injustice</h2>
<ol type="1">
<li>When DSS (Dominant Social Structure) of meaning exclude you or distort your experiences, and no social concepts that you recognize capture your vision of yourself, then your capacity as a knower and your own self-understanding have been stunted.
<ol type="1">
<li>But this introduces a very narrow vision of social structure. Isn’t it possible that while you are excluded from a dss, a non-dss, one that includes you and does not distort your experiences, could still capture a vision of yourself, and your capacity as a knower and fortifying your self-understanding.</li>
<li>What is needed then is a new non-dss, education.</li>
<li>While a person is excluded from a dss, they could have their capacity as a knower fortified by a non-dss, education reimagined.</li>
</ol></li>
</ol>
<p>The need to reimagine eduction.</p>
<ol type="1">
<li>WR and PoR become DSS’s of meaning and exclude some or distort their experiences</li>
<li>But this introduces a very narrow vision of social structure.
<ol type="1">
<li>It is possible that while you are excluded from a dss, a non-dss, one that includes you and does not distort your experiences, could still capture a vision of yourself, and your capacity as a knower and fortifying your self-understanding.</li>
<li>So while a person is excluded from a dss, they could have their capacity as a knower fortified by a non-dss.</li>
</ol></li>
<li>Therefore 2 this does not mean that there are no social concepts that you recognize and capture your vision of yourself and your capacity as a knower and your own self-understanding are stunted but not by the DSS, but the lack of the non-dss.</li>
</ol>
<section id="one-possible-example-of-hermeneutic-injustice-against-religious-minorities" class="level3">
<h3 class="anchored" data-anchor-id="one-possible-example-of-hermeneutic-injustice-against-religious-minorities">One Possible example of hermeneutic injustice against religious minorities</h3>
<p>Secular community marginalization against people of religious faith.</p>
<ol type="1">
<li>PoRF may lack ’sensibilities and resources needed to make sense of religious people’s experiences,” (Kidd, 20217).</li>
<li>But does not capture gravity of systemic cases of hermeneutical injsutice whose targests experience multiple forms of injustice.
<ol type="1">
<li>Hermeneutical marginalization “entails mariginalization of a socioeconomic sort’, targets will not ’participate on equal terms within the practices of law, academia, politics, religion, journalism, media, etc. (Fricker, 2010).
<ol type="1">
<li>However, DSS vs.&nbsp;non-DSS? While DSS of meaning may distort experiences, non-dss may not, instead rejecting dss of meaning which says that “there are no social concepts which capture a religious person’s vision of themselves (i.e., made in image of God, human dignity bestowed by God, not DSS, etc.)”. Consider the following claims:
<ol type="1">
<li>Here, Fricker, a published philosopher, the DSS, says persons of a certain sort are marginalized and therefore have been silenced. But here, marginalization means they lack a marker of humanity. As such, Fricker claims that certain individuals lack a marker of humanity.
<ol type="1">
<li>Why? For not adhering to rules of rationality practiced by the dss. Surely they could however do so?</li>
<li>Because of 1, they lack participation in shared meaning.</li>
<li>Therefore lack capacity as knowers.</li>
<li>From 3, their self-understanding is mitigated and stunted.</li>
<li>Participation in shared hermeneutic, i.e., 1-4, in shared conceptual structure is a marker of humanity”,</li>
<li>Therefore, because of exclusion from shared conceptual structure, they lack a marker of humanity.</li>
</ol></li>
</ol></li>
</ol></li>
</ol></li>
</ol>
<p>but rather than ‘victims’ being excluded from shared conceptual structure and lacking capacity as knowers and lacking marker of humanity, they instead are included in different conceptual structure (e.g., religious conceptual structure) which fortifies their capacity as knowers and self-understanding, acting as marker of humanity.</p>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-fric07" class="csl-entry" role="listitem">
Fricker, Miranda. 2007. <em>Epistemic <span>Injustice</span>: <span>Power</span> and the <span>Ethics</span> of <span>Knowing</span></em>. Oxford ; New York: Oxford University Press.
</div>
</div>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>